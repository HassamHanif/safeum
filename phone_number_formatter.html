<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phone Number Formatter</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .min-vh-50 {
            min-height: 50vh;
        }

        .container {
            max-width: 800px;
        }

        .phone-group {
            border: 1px solid #ddd;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 5px;
            background-color: #f8f9fa;
        }

        .copy-btn {
            margin-top: 10px;
        }

        textarea {
            resize: none;
        }

        .dropdown-container {
            position: relative;
        }

        .dropdown-list {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            z-index: 1000;
            max-height: 200px;
            overflow-y: auto;
            background-color: white;
            border: 1px solid #ccc;
            border-top: none;
            display: none;
        }

        .dropdown-item {
            padding: 8px 12px;
            cursor: pointer;
        }

        .dropdown-item:hover {
            background-color: #f0f0f0;
        }

        .flag {
            margin-right: 8px;
        }
    </style>
</head>

<body>
<div class="container mt-5">
    <h1 class="text-center mb-4">Phone Number Formatter</h1>
    <div class="mb-3">
        <label for="textInput" class="form-label">Enter text containing phone numbers:</label>
        <textarea id="textInput" class="form-control" rows="5" placeholder="Paste your text here..."></textarea>
    </div>
    <div class="mb-3">
        <label for="groupSize" class="form-label">Enter the number of phone numbers per group:</label>
        <input type="number" id="groupSize" class="form-control" placeholder="Enter group size (e.g., 5)">
    </div>
    <div class="mb-3">
        <label for="countrySearch" class="form-label">Select country code (type to search by name or code):</label>
        <div class="dropdown-container">
            <input type="text" id="countrySearch" class="form-control" placeholder="Search country...">
            <div id="dropdownList" class="dropdown-list"></div>
        </div>
        <input type="hidden" id="selectedDialCode">
    </div>
    <div class="mb-3">
        <button id="convertBtn" class="btn btn-primary w-100">Format Phone Numbers</button>
    </div>
    <div id="outputContainer" class="mt-4"></div>
    <div id="countDisplay" class="text-center mt-3 text-muted"></div>
</div>

<script>
    const countries = [
        { name: "Afghanistan", iso2: "af", dialCode: "93", flag: "ğŸ‡¦ğŸ‡«" },
        { name: "Albania", iso2: "al", dialCode: "355", flag: "ğŸ‡¦ğŸ‡±" },
        { name: "Algeria", iso2: "dz", dialCode: "213", flag: "ğŸ‡©ğŸ‡¿" },
        { name: "Andorra", iso2: "ad", dialCode: "376", flag: "ğŸ‡¦ğŸ‡©" },
        { name: "Angola", iso2: "ao", dialCode: "244", flag: "ğŸ‡¦ğŸ‡´" },
        { name: "Antigua and Barbuda", iso2: "ag", dialCode: "1", flag: "ğŸ‡¦ğŸ‡¬" },
        { name: "Argentina", iso2: "ar", dialCode: "54", flag: "ğŸ‡¦ğŸ‡·" },
        { name: "Armenia", iso2: "am", dialCode: "374", flag: "ğŸ‡¦ğŸ‡²" },
        { name: "Australia", iso2: "au", dialCode: "61", flag: "ğŸ‡¦ğŸ‡º" },
        { name: "Austria", iso2: "at", dialCode: "43", flag: "ğŸ‡¦ğŸ‡¹" },
        { name: "Azerbaijan", iso2: "az", dialCode: "994", flag: "ğŸ‡¦ğŸ‡¿" },
        { name: "Bahamas", iso2: "bs", dialCode: "1", flag: "ğŸ‡¬ğŸ‡¸" },
        { name: "Bahrain", iso2: "bh", dialCode: "973", flag: "ğŸ‡§ğŸ‡­" },
        { name: "Bangladesh", iso2: "bd", dialCode: "880", flag: "ğŸ‡§ğŸ‡©" },
        { name: "Barbados", iso2: "bb", dialCode: "1", flag: "ğŸ‡§ğŸ‡§" },
        { name: "Belarus", iso2: "by", dialCode: "375", flag: "ğŸ‡§ğŸ‡¾" },
        { name: "Belgium", iso2: "be", dialCode: "32", flag: "ğŸ‡§ğŸ‡ª" },
        { name: "Belize", iso2: "bz", dialCode: "501", flag: "ğŸ‡§ğŸ‡¿" },
        { name: "Benin", iso2: "bj", dialCode: "229", flag: "ğŸ‡§ğŸ‡¯" },
        { name: "Bhutan", iso2: "bt", dialCode: "975", flag: "ğŸ‡§ğŸ‡¹" },
        { name: "Bolivia", iso2: "bo", dialCode: "591", flag: "ğŸ‡§ğŸ‡´" },
        { name: "Bosnia and Herzegovina", iso2: "ba", dialCode: "387", flag: "ğŸ‡§ğŸ‡¦" },
        { name: "Botswana", iso2: "bw", dialCode: "267", flag: "ğŸ‡§ğŸ‡¼" },
        { name: "Brazil", iso2: "br", dialCode: "55", flag: "ğŸ‡§ğŸ‡·" },
        { name: "Brunei", iso2: "bn", dialCode: "673", flag: "ğŸ‡§ğŸ‡³" },
        { name: "Bulgaria", iso2: "bg", dialCode: "359", flag: "ğŸ‡¬ğŸ‡¬" },
        { name: "Burkina Faso", iso2: "bf", dialCode: "226", flag: "ğŸ‡§ğŸ‡«" },
        { name: "Burundi", iso2: "bi", dialCode: "257", flag: "ğŸ‡§ğŸ‡®" },
        { name: "Cambodia", iso2: "kh", dialCode: "855", flag: "ğŸ‡°ğŸ‡­" },
        { name: "Cameroon", iso2: "cm", dialCode: "237", flag: "ğŸ‡¨ğŸ‡²" },
        { name: "Canada", iso2: "ca", dialCode: "1", flag: "ğŸ‡¨ğŸ‡¦" },
        { name: "Cape Verde", iso2: "cv", dialCode: "238", flag: "ğŸ‡¨ğŸ‡»" },
        { name: "Central African Republic", iso2: "cf", dialCode: "236", flag: "ğŸ‡¨ğŸ‡«" },
        { name: "Chad", iso2: "td", dialCode: "235", flag: "ğŸ‡¹ğŸ‡©" },
        { name: "Chile", iso2: "cl", dialCode: "56", flag: "ğŸ‡¨ğŸ‡±" },
        { name: "China", iso2: "cn", dialCode: "86", flag: "ğŸ‡¨ğŸ‡³" },
        { name: "Colombia", iso2: "co", dialCode: "57", flag: "ğŸ‡¨ğŸ‡´" },
        { name: "Comoros", iso2: "km", dialCode: "269", flag: "ğŸ‡°ğŸ‡²" },
        { name: "Congo", iso2: "cg", dialCode: "242", flag: "ğŸ‡¨ğŸ‡¬" },
        { name: "Costa Rica", iso2: "cr", dialCode: "506", flag: "ğŸ‡¨ğŸ‡·" },
        { name: "CÃ´te d'Ivoire", iso2: "ci", dialCode: "225", flag: "ğŸ‡¨ğŸ‡®" },
        { name: "Croatia", iso2: "hr", dialCode: "385", flag: "ğŸ‡­ğŸ‡·" },
        { name: "Cuba", iso2: "cu", dialCode: "53", flag: "ğŸ‡¨ğŸ‡º" },
        { name: "Cyprus", iso2: "cy", dialCode: "357", flag: "ğŸ‡¨ğŸ‡¾" },
        { name: "Czech Republic", iso2: "cz", dialCode: "420", flag: "ğŸ‡¨ğŸ‡¿" },
        { name: "Democratic Republic of the Congo", iso2: "cd", dialCode: "243", flag: "ğŸ‡¨ğŸ‡©" },
        { name: "Denmark", iso2: "dk", dialCode: "45", flag: "ğŸ‡©ğŸ‡°" },
        { name: "Djibouti", iso2: "dj", dialCode: "253", flag: "ğŸ‡©ğŸ‡¯" },
        { name: "Dominica", iso2: "dm", dialCode: "1", flag: "ğŸ‡©ğŸ‡²" },
        { name: "Dominican Republic", iso2: "do", dialCode: "1", flag: "ğŸ‡©ğŸ‡´" },
        { name: "Ecuador", iso2: "ec", dialCode: "593", flag: "ğŸ‡ªğŸ‡¨" },
        { name: "Egypt", iso2: "eg", dialCode: "20", flag: "ğŸ‡ªğŸ‡¬" },
        { name: "El Salvador", iso2: "sv", dialCode: "503", flag: "ğŸ‡¸ğŸ‡»" },
        { name: "Equatorial Guinea", iso2: "gq", dialCode: "240", flag: "ğŸ‡¬ğŸ‡¶" },
        { name: "Eritrea", iso2: "er", dialCode: "291", flag: "ğŸ‡ªğŸ‡·" },
        { name: "Estonia", iso2: "ee", dialCode: "372", flag: "ğŸ‡ªğŸ‡ª" },
        { name: "Eswatini", iso2: "sz", dialCode: "268", flag: "ğŸ‡¸ğŸ‡¿" },
        { name: "Ethiopia", iso2: "et", dialCode: "251", flag: "ğŸ‡ªğŸ‡¹" },
        { name: "Fiji", iso2: "fj", dialCode: "679", flag: "ğŸ‡«ğŸ‡¯" },
        { name: "Finland", iso2: "fi", dialCode: "358", flag: "ğŸ‡«ğŸ‡®" },
        { name: "France", iso2: "fr", dialCode: "33", flag: "ğŸ‡«ğŸ‡·" },
        { name: "Gabon", iso2: "ga", dialCode: "241", flag: "ğŸ‡¬ğŸ‡¦" },
        { name: "Gambia", iso2: "gm", dialCode: "220", flag: "ğŸ‡¬ğŸ‡²" },
        { name: "Georgia", iso2: "ge", dialCode: "995", flag: "ğŸ‡¬ğŸ‡ª" },
        { name: "Germany", iso2: "de", dialCode: "49", flag: "ğŸ‡©ğŸ‡ª" },
        { name: "Ghana", iso2: "gh", dialCode: "233", flag: "ğŸ‡¬ğŸ‡­" },
        { name: "Greece", iso2: "gr", dialCode: "30", flag: "ğŸ‡¬ğŸ‡·" },
        { name: "Grenada", iso2: "gd", dialCode: "1", flag: "ğŸ‡¬ğŸ‡©" },
        { name: "Guatemala", iso2: "gt", dialCode: "502", flag: "ğŸ‡¬ğŸ‡¹" },
        { name: "Guinea", iso2: "gn", dialCode: "224", flag: "ğŸ‡¬ğŸ‡³" },
        { name: "Guinea-Bissau", iso2: "gw", dialCode: "245", flag: "ğŸ‡¬ğŸ‡¼" },
        { name: "Guyana", iso2: "gy", dialCode: "592", flag: "ğŸ‡¬ğŸ‡¾" },
        { name: "Haiti", iso2: "ht", dialCode: "509", flag: "ğŸ‡­ğŸ‡¹" },
        { name: "Honduras", iso2: "hn", dialCode: "504", flag: "ğŸ‡­ğŸ‡³" },
        { name: "Hungary", iso2: "hu", dialCode: "36", flag: "ğŸ‡­ğŸ‡º" },
        { name: "Iceland", iso2: "is", dialCode: "354", flag: "ğŸ‡®ğŸ‡¸" },
        { name: "India", iso2: "in", dialCode: "91", flag: "ğŸ‡®ğŸ‡³" },
        { name: "Indonesia", iso2: "id", dialCode: "62", flag: "ğŸ‡®ğŸ‡©" },
        { name: "Iran", iso2: "ir", dialCode: "98", flag: "ğŸ‡®ğŸ‡·" },
        { name: "Iraq", iso2: "iq", dialCode: "964", flag: "ğŸ‡®ğŸ‡¶" },
        { name: "Ireland", iso2: "ie", dialCode: "353", flag: "ğŸ‡®ğŸ‡ª" },
        { name: "Israel", iso2: "il", dialCode: "972", flag: "ğŸ‡®ğŸ‡±" },
        { name: "Italy", iso2: "it", dialCode: "39", flag: "ğŸ‡®ğŸ‡¹" },
        { name: "Jamaica", iso2: "jm", dialCode: "1", flag: "ğŸ‡¯ğŸ‡²" },
        { name: "Japan", iso2: "jp", dialCode: "81", flag: "ğŸ‡¯ğŸ‡µ" },
        { name: "Jordan", iso2: "jo", dialCode: "962", flag: "ğŸ‡¯ğŸ‡´" },
        { name: "Kazakhstan", iso2: "kz", dialCode: "7", flag: "ğŸ‡¬ğŸ‡¿" },
        { name: "Kenya", iso2: "ke", dialCode: "254", flag: "ğŸ‡°ğŸ‡ª" },
        { name: "Kiribati", iso2: "ki", dialCode: "686", flag: "ğŸ‡°ğŸ‡®" },
        { name: "Kosovo", iso2: "xk", dialCode: "383", flag: "ğŸ‡½ğŸ‡°" },
        { name: "Kuwait", iso2: "kw", dialCode: "965", flag: "ğŸ‡°ğŸ‡¼" },
        { name: "Kyrgyzstan", iso2: "kg", dialCode: "996", flag: "ğŸ‡°ğŸ‡¬" },
        { name: "Laos", iso2: "la", dialCode: "856", flag: "ğŸ‡±ğŸ‡¦" },
        { name: "Latvia", iso2: "lv", dialCode: "371", flag: "ğŸ‡±ğŸ‡»" },
        { name: "Lebanon", iso2: "lb", dialCode: "961", flag: "ğŸ‡±ğŸ‡§" },
        { name: "Lesotho", iso2: "ls", dialCode: "266", flag: "ğŸ‡±ğŸ‡¸" },
        { name: "Liberia", iso2: "lr", dialCode: "231", flag: "ğŸ‡±ğŸ‡·" },
        { name: "Libya", iso2: "ly", dialCode: "218", flag: "ğŸ‡±ğŸ‡¾" },
        { name: "Liechtenstein", iso2: "li", dialCode: "423", flag: "ğŸ‡±ğŸ‡®" },
        { name: "Lithuania", iso2: "lt", dialCode: "370", flag: "ğŸ‡±ğŸ‡¹" },
        { name: "Luxembourg", iso2: "lu", dialCode: "352", flag: "ğŸ‡±ğŸ‡º" },
        { name: "Madagascar", iso2: "mg", dialCode: "261", flag: "ğŸ‡²ğŸ‡¬" },
        { name: "Malawi", iso2: "mw", dialCode: "265", flag: "ğŸ‡²ğŸ‡¼" },
        { name: "Malaysia", iso2: "my", dialCode: "60", flag: "ğŸ‡²ğŸ‡¾" },
        { name: "Maldives", iso2: "mv", dialCode: "960", flag: "ğŸ‡²ğŸ‡»" },
        { name: "Mali", iso2: "ml", dialCode: "223", flag: "ğŸ‡²ğŸ‡±" },
        { name: "Malta", iso2: "mt", dialCode: "356", flag: "ğŸ‡²ğŸ‡¹" },
        { name: "Marshall Islands", iso2: "mh", dialCode: "692", flag: "ğŸ‡²ğŸ‡­" },
        { name: "Mauritania", iso2: "mr", dialCode: "222", flag: "ğŸ‡²ğŸ‡·" },
        { name: "Mauritius", iso2: "mu", dialCode: "230", flag: "ğŸ‡²ğŸ‡º" },
        { name: "Mexico", iso2: "mx", dialCode: "52", flag: "ğŸ‡²ğŸ‡½" },
        { name: "Micronesia", iso2: "fm", dialCode: "691", flag: "ğŸ‡«ğŸ‡²" },
        { name: "Moldova", iso2: "md", dialCode: "373", flag: "ğŸ‡²ğŸ‡©" },
        { name: "Monaco", iso2: "mc", dialCode: "377", flag: "ğŸ‡²ğŸ‡¨" },
        { name: "Mongolia", iso2: "mn", dialCode: "976", flag: "ğŸ‡²ğŸ‡³" },
        { name: "Montenegro", iso2: "me", dialCode: "382", flag: "ğŸ‡²ğŸ‡ª" },
        { name: "Morocco", iso2: "ma", dialCode: "212", flag: "ğŸ‡²ğŸ‡¦" },
        { name: "Mozambique", iso2: "mz", dialCode: "258", flag: "ğŸ‡²ğŸ‡¿" },
        { name: "Myanmar", iso2: "mm", dialCode: "95", flag: "ğŸ‡²ğŸ‡²" },
        { name: "Namibia", iso2: "na", dialCode: "264", flag: "ğŸ‡³ğŸ‡¦" },
        { name: "Nauru", iso2: "nr", dialCode: "674", flag: "ğŸ‡³ğŸ‡·" },
        { name: "Nepal", iso2: "np", dialCode: "977", flag: "ğŸ‡³ğŸ‡µ" },
        { name: "Netherlands", iso2: "nl", dialCode: "31", flag: "ğŸ‡³ğŸ‡±" },
        { name: "New Zealand", iso2: "nz", dialCode: "64", flag: "ğŸ‡³ğŸ‡¿" },
        { name: "Nicaragua", iso2: "ni", dialCode: "505", flag: "ğŸ‡³ğŸ‡®" },
        { name: "Niger", iso2: "ne", dialCode: "227", flag: "ğŸ‡³ğŸ‡ª" },
        { name: "Nigeria", iso2: "ng", dialCode: "234", flag: "ğŸ‡³ğŸ‡¬" },
        { name: "North Korea", iso2: "kp", dialCode: "850", flag: "ğŸ‡°ğŸ‡µ" },
        { name: "North Macedonia", iso2: "mk", dialCode: "389", flag: "ğŸ‡²ğŸ‡°" },
        { name: "Norway", iso2: "no", dialCode: "47", flag: "ğŸ‡³ğŸ‡´" },
        { name: "Oman", iso2: "om", dialCode: "968", flag: "ğŸ‡´ğŸ‡²" },
        { name: "Pakistan", iso2: "pk", dialCode: "92", flag: "ğŸ‡µğŸ‡°" },
        { name: "Palau", iso2: "pw", dialCode: "680", flag: "ğŸ‡µğŸ‡¼" },
        { name: "Panama", iso2: "pa", dialCode: "507", flag: "ğŸ‡µğŸ‡¦" },
        { name: "Papua New Guinea", iso2: "pg", dialCode: "675", flag: "ğŸ‡µğŸ‡¬" },
        { name: "Paraguay", iso2: "py", dialCode: "595", flag: "ğŸ‡µğŸ‡¾" },
        { name: "Peru", iso2: "pe", dialCode: "51", flag: "ğŸ‡µğŸ‡ª" },
        { name: "Philippines", iso2: "ph", dialCode: "63", flag: "ğŸ‡µğŸ‡­" },
        { name: "Poland", iso2: "pl", dialCode: "48", flag: "ğŸ‡µğŸ‡±" },
        { name: "Portugal", iso2: "pt", dialCode: "351", flag: "ğŸ‡µğŸ‡¹" },
        { name: "Qatar", iso2: "qa", dialCode: "974", flag: "ğŸ‡¶ğŸ‡¦" },
        { name: "Romania", iso2: "ro", dialCode: "40", flag: "ğŸ‡·ğŸ‡´" },
        { name: "Russia", iso2: "ru", dialCode: "7", flag: "ğŸ‡·ğŸ‡º" },
        { name: "Rwanda", iso2: "rw", dialCode: "250", flag: "ğŸ‡·ğŸ‡¼" },
        { name: "Saint Kitts and Nevis", iso2: "kn", dialCode: "1", flag: "ğŸ‡°ğŸ‡³" },
        { name: "Saint Lucia", iso2: "lc", dialCode: "1", flag: "ğŸ‡±ğŸ‡¨" },
        { name: "Saint Vincent and the Grenadines", iso2: "vc", dialCode: "1", flag: "ğŸ‡»ğŸ‡¨" },
        { name: "Samoa", iso2: "ws", dialCode: "685", flag: "ğŸ‡¼ğŸ‡¸" },
        { name: "San Marino", iso2: "sm", dialCode: "378", flag: "ğŸ‡¸ğŸ‡²" },
        { name: "Sao Tome and Principe", iso2: "st", dialCode: "239", flag: "ğŸ‡¸ğŸ‡¹" },
        { name: "Saudi Arabia", iso2: "sa", dialCode: "966", flag: "ğŸ‡¸ğŸ‡¦" },
        { name: "Senegal", iso2: "sn", dialCode: "221", flag: "ğŸ‡¸ğŸ‡³" },
        { name: "Serbia", iso2: "rs", dialCode: "381", flag: "ğŸ‡·ğŸ‡¸" },
        { name: "Seychelles", iso2: "sc", dialCode: "248", flag: "ğŸ‡¸ğŸ‡¨" },
        { name: "Sierra Leone", iso2: "sl", dialCode: "232", flag: "ğŸ‡¸ğŸ‡±" },
        { name: "Singapore", iso2: "sg", dialCode: "65", flag: "ğŸ‡¸ğŸ‡¬" },
        { name: "Slovakia", iso2: "sk", dialCode: "421", flag: "ğŸ‡¸ğŸ‡°" },
        { name: "Slovenia", iso2: "si", dialCode: "386", flag: "ğŸ‡¸ğŸ‡®" },
        { name: "Solomon Islands", iso2: "sb", dialCode: "677", flag: "ğŸ‡¸ğŸ‡§" },
        { name: "Somalia", iso2: "so", dialCode: "252", flag: "ğŸ‡¸ğŸ‡´" },
        { name: "South Africa", iso2: "za", dialCode: "27", flag: "ğŸ‡¿ğŸ‡¦" },
        { name: "South Korea", iso2: "kr", dialCode: "82", flag: "ğŸ‡°ğŸ‡·" },
        { name: "South Sudan", iso2: "ss", dialCode: "211", flag: "ğŸ‡¸ğŸ‡¸" },
        { name: "Spain", iso2: "es", dialCode: "34", flag: "ğŸ‡ªğŸ‡¸" },
        { name: "Sri Lanka", iso2: "lk", dialCode: "94", flag: "ğŸ‡±ğŸ‡°" },
        { name: "Sudan", iso2: "sd", dialCode: "249", flag: "ğŸ‡¸ğŸ‡©" },
        { name: "Suriname", iso2: "sr", dialCode: "597", flag: "ğŸ‡¸ğŸ‡·" },
        { name: "Sweden", iso2: "se", dialCode: "46", flag: "ğŸ‡¸ğŸ‡ª" },
        { name: "Switzerland", iso2: "ch", dialCode: "41", flag: "ğŸ‡¨ğŸ‡­" },
        { name: "Syria", iso2: "sy", dialCode: "963", flag: "ğŸ‡¸ğŸ‡¾" },
        { name: "Tajikistan", iso2: "tj", dialCode: "992", flag: "ğŸ‡¹ğŸ‡¯" },
        { name: "Tanzania", iso2: "tz", dialCode: "255", flag: "ğŸ‡¹ğŸ‡¿" },
        { name: "Thailand", iso2: "th", dialCode: "66", flag: "ğŸ‡¹ğŸ‡­" },
        { name: "Timor-Leste", iso2: "tl", dialCode: "670", flag: "ğŸ‡¹ğŸ‡±" },
        { name: "Togo", iso2: "tg", dialCode: "228", flag: "ğŸ‡¹ğŸ‡¬" },
        { name: "Tonga", iso2: "to", dialCode: "676", flag: "ğŸ‡¹ğŸ‡´" },
        { name: "Trinidad and Tobago", iso2: "tt", dialCode: "1", flag: "ğŸ‡¹ğŸ‡¹" },
        { name: "Tunisia", iso2: "tn", dialCode: "216", flag: "ğŸ‡¹ğŸ‡³" },
        { name: "Turkey", iso2: "tr", dialCode: "90", flag: "ğŸ‡¹ğŸ‡·" },
        { name: "Turkmenistan", iso2: "tm", dialCode: "993", flag: "ğŸ‡¹ğŸ‡²" },
        { name: "Tuvalu", iso2: "tv", dialCode: "688", flag: "ğŸ‡¹ğŸ‡»" },
        { name: "Uganda", iso2: "ug", dialCode: "256", flag: "ğŸ‡ºğŸ‡¬" },
        { name: "Ukraine", iso2: "ua", dialCode: "380", flag: "ğŸ‡ºğŸ‡¦" },
        { name: "United Arab Emirates", iso2: "ae", dialCode: "971", flag: "ğŸ‡¦ğŸ‡ª" },
        { name: "United Kingdom", iso2: "gb", dialCode: "44", flag: "ğŸ‡¬ğŸ‡§" },
        { name: "United States", iso2: "us", dialCode: "1", flag: "ğŸ‡ºğŸ‡¸" },
        { name: "Uruguay", iso2: "uy", dialCode: "598", flag: "ğŸ‡ºğŸ‡¾" },
        { name: "Uzbekistan", iso2: "uz", dialCode: "998", flag: "ğŸ‡ºğŸ‡¿" },
        { name: "Vanuatu", iso2: "vu", dialCode: "678", flag: "ğŸ‡»ğŸ‡º" },
        { name: "Venezuela", iso2: "ve", dialCode: "58", flag: "ğŸ‡»ğŸ‡ª" },
        { name: "Vietnam", iso2: "vn", dialCode: "84", flag: "ğŸ‡»ğŸ‡³" },
        { name: "Yemen", iso2: "ye", dialCode: "967", flag: "ğŸ‡¾ğŸ‡ª" },
        { name: "Zambia", iso2: "zm", dialCode: "260", flag: "ğŸ‡¿ğŸ‡²" },
        { name: "Zimbabwe", iso2: "zw", dialCode: "263", flag: "ğŸ‡¿ğŸ‡¼" }
    ];

    const countrySearch = document.getElementById('countrySearch');
    const dropdownList = document.getElementById('dropdownList');
    const selectedDialCode = document.getElementById('selectedDialCode');

    countrySearch.addEventListener('input', function () {
        const query = this.value.toLowerCase();
        dropdownList.innerHTML = '';
        if (query.length === 0) {
            dropdownList.style.display = 'none';
            return;
        }

        const results = countries.filter(c =>
            c.name.toLowerCase().includes(query) ||
            c.iso2.toLowerCase().includes(query) ||
            c.dialCode.includes(query)
        );

        results.forEach(c => {
            const item = document.createElement('div');
            item.classList.add('dropdown-item');
            item.innerHTML = `<span class="flag">${c.flag}</span> ${c.name} (+${c.dialCode})`;
            item.addEventListener('click', () => {
                countrySearch.value = `${c.flag} ${c.name} (+${c.dialCode})`;
                selectedDialCode.value = c.dialCode;
                dropdownList.style.display = 'none';
            });
            dropdownList.appendChild(item);
        });

        dropdownList.style.display = results.length ? 'block' : 'none';
    });

    document.addEventListener('click', function (e) {
        if (!e.target.closest('.dropdown-container')) {
            dropdownList.style.display = 'none';
        }
    });

    document.getElementById('convertBtn').addEventListener('click', function () {
        const text = document.getElementById('textInput').value.trim();
        const groupSize = parseInt(document.getElementById('groupSize').value, 10);
        const countryCode = selectedDialCode.value;

        const outputContainer = document.getElementById('outputContainer');
        const countDisplay = document.getElementById('countDisplay');

        if (!text) {
            alert('Please enter text containing phone numbers.');
            return;
        }

        if (!countryCode) {
            alert('Please select a country code.');
            return;
        }

        if (isNaN(groupSize) || groupSize <= 0) {
            alert('Please enter a valid group size.');
            return;
        }

        const regex = new RegExp(`\\+?${countryCode}[ \\d]{4,12}`, 'g');
        const matches = text.match(regex) || [];
        const cleanedNumbers = matches.map(num => num.replace(/[ +]/g, ''));

        const validNumbers = cleanedNumbers.filter(num => {
            const numberLength = num.length - countryCode.length;
            return numberLength >= 4 && numberLength <= 12;
        });

        const uniqueNumbers = [...new Set(validNumbers)];

        if (uniqueNumbers.length === 0) {
            alert('No valid phone numbers found in the text.');
            return;
        }

        outputContainer.innerHTML = '';
        const groups = [];
        for (let i = 0; i < uniqueNumbers.length; i += groupSize) {
            groups.push(uniqueNumbers.slice(i, i + groupSize));
        }

        groups.forEach((group, index) => {
            const groupDiv = document.createElement('div');
            groupDiv.classList.add('phone-group');

            const groupText = document.createElement('textarea');
            groupText.classList.add('form-control');
            groupText.rows = 3;
            groupText.readOnly = true;
            groupText.value = group.map(num => `+${num}`).join(',');

            const copyBtn = document.createElement('button');
            copyBtn.classList.add('btn', 'btn-secondary', 'copy-btn');
            copyBtn.textContent = `Copy Group ${index + 1}`;
            copyBtn.addEventListener('click', function () {
                navigator.clipboard.writeText(groupText.value)
                    .then(() => alert(`Group ${index + 1} copied to clipboard.`))
                    .catch(() => alert('Failed to copy to clipboard.'));
            });

            groupDiv.appendChild(groupText);
            groupDiv.appendChild(copyBtn);
            outputContainer.appendChild(groupDiv);
        });

        countDisplay.textContent = `Total Count of Unique Phone Numbers: ${uniqueNumbers.length}`;
    });
</script>

</body>
</html>
